<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FaithMoods 2.0</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
<style>
/* ---------- GLOBAL STYLE ---------- */
:root {
  --purple: #6C63FF;
  --glass-bg: rgba(255,255,255,0.2);
  --shadow: 0 4px 30px rgba(0,0,0,0.1);
  --blur: blur(10px);
}
body {
  margin:0; font-family:'Poppins', sans-serif; background:linear-gradient(135deg, #6C63FF 0%, #5A5AFF 100%); color:#fff; display:flex; justify-content:center; align-items:center; min-height:100vh; overflow:hidden;
}
#intro {
  position:fixed; top:0; left:0; width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center; background:linear-gradient(135deg, #6C63FF 0%, #5A5AFF 100%); z-index:3; transition:opacity 1s; font-size:1.5rem;
}
#intro.fadeOut {
  opacity:0; pointer-events:none;
}
header {
  text-align:center; margin-bottom:1.5rem;
}
h1 {
  margin:0; font-size:2.5rem;
}
small {
  font-size:1rem; opacity:0.8;
}
main {
  background:rgba(255,255,255,0.2); box-shadow:0 4px 30px rgba(0,0,0,0.1); backdrop-filter:blur(10px); border-radius:1rem; padding:1.5rem; flex:1; min-width:280px; color:#fff;
}
/* ---------- BUTTONS ---------- */
button {
  cursor:pointer; border:none; border-radius:0.5rem; background:var(--purple); color:white; padding:0.6rem 1rem; margin:0.3rem 0; font-size:0.9rem; transition:0.3s;
}
button:hover { opacity:0.85; }
/* ---------- EMOTIONS ---------- */
#emotions li {
  list-style:none; background:rgba(255,255,255,0.15); margin:0.3rem 0; padding:0.5rem 0.75rem; border-radius:0.5rem; transition:0.3s; cursor:pointer;
}
#emotions li:hover { background:rgba(255,255,255,0.3); }
#verseCard {
  background:rgba(255,255,255,0.1); border-left:4px solid var(--purple); padding:1rem; border-radius:0.5rem; font-style:italic; min-height:80px; margin-top:1rem; opacity:0; transition:opacity 0.6s;
}
#verseCard.visible { opacity:1; }
#controls {
  display:flex; gap:0.5rem; margin-top:1rem; flex-wrap:wrap;
}
input, textarea {
  width:100%; border:none; border-radius:0.5rem; padding:0.5rem; margin-top:0.5rem; font-family:'Poppins', sans-serif;
}
#musicToggle, #darkToggle {
  position:fixed; top:1rem; width:2.5rem; height:2.5rem; border-radius:50%; border:none; color:#fff; font-size:1.2rem; display:flex; align-items:center; justify-content:center; backdrop-filter:blur(8px);
}
#musicToggle { right:1rem; background:rgba(108,99,255,0.6); }
#darkToggle { right:4.2rem; background:rgba(255,255,255,0.3); }
.dark body { background:#111; color:#eee; }
</style>
</head>
<body>
<div id="intro"><h1>FaithMoods</h1><small>Find clarity in Scripture</small><button id="startBtn">Start</button></div>
<header>
  <h1>FaithMoods</h1>
  <small>Find clarity in Scripture</small>
</header>
<main>
  <ul id="emotions"></ul>
  <div id="verseCard"></div>
  <div id="controls">
    <input id="journalInput" type="text" placeholder="Journal your thoughts here..." />
    <button id="saveJournal">Save Journal</button>
    <button id="favorite">Favorite Verse</button>
  </div>
  <audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_fc3ba728e3.mp3?filename=peaceful-ambient-110462.mp3" loop></audio>
  <button id="musicToggle">♪</button>
  <button id="darkToggle">☀</button>
</main>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>
<script>
// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyC...",
  authDomain: "your-app.firebaseapp.com",
  projectId: "your-app",
  storageBucket: "your-app.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abcdefg"
};
// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function loadEmotions() {
  const emotionsList = document.getElementById('emotions');
  db.collection('emotions').get().then((snapshot) => {
    snapshot.forEach((doc) => {
      const li = document.createElement('li');
      li.textContent = doc.id;
      li.addEventListener('click', () => loadVerse(doc.id));
      emotionsList.appendChild(li);
    });
  });
}
function loadVerse(emotion) {
  db.collection('verses').doc(emotion).get().then((doc) => {
    if (doc.exists) {
      const verseCard = document.getElementById('verseCard');
      verseCard.textContent = doc.data().verse;
      verseCard.classList.add('visible');
    }
  });
}
function startMusic() {
  const music = document.getElementById('bgMusic');
  music.play();
}
window.addEventListener('load',()=>{
  const startBtn = document.getElementById('startBtn');
  startBtn.addEventListener('click', () => {
    document.getElementById('intro').classList.add('fadeOut');
    startMusic();
    loadEmotions();
  });
});

/* ---------- MUSIC TOGGLE ---------- */
const music=document.getElementById('bgMusic');
const toggle=document.getElementById('musicToggle');
toggle.addEventListener('click',()=>{
 music.paused?music.play():music.pause();
 toggle.textContent=music.paused?'♪':'❚❚';
});

/* ---------- DARK MODE ---------- */
const dark=document.getElementById('darkToggle');
dark.addEventListener('click',()=>{
 document.body.classList.toggle('dark');
 dark.textContent=document.body.classList.contains('dark')?'☾':'☀';
});

/* ---------- JOURNAL & FAVORITES ---------- */
document.getElementById('saveJournal').addEventListener('click',()=>{
 const text=document.getElementById('journalInput').value;
 if(!text) return;
 db.collection('journals').add({text, date:new Date()});
 alert('Journal saved!');
 document.getElementById('journalInput').value='';
});

document.getElementById('favorite').addEventListener('click',()=>{
 const verse=document.getElementById('verseCard').textContent;
 if(!verse) return;
 db.collection('favorites').add({verse, date:new Date()});
 alert('Added to favorites!');
});
</script>
</body>
</html>
